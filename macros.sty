\RequirePackage{graphicx}

\RequirePackage{hyperref}

\RequirePackage{xcolor}

\RequirePackage{xparse}

\RequirePackage{xspace}

%-------------------------------------------------

\newcommand{\Chi}{%
  \mathrm{X}%
}

%-------------------------------------------------

\DeclareRobustCommand\onedot{\futurelet\@let@token\@onedot}
\def\@onedot{\ifx\@let@token.\else.\null\fi\xspace}

\def\eg{\emph{e.g}\onedot}
\def\ie{\emph{i.e}\onedot}
\def\etc{\emph{etc}\onedot}

%-------------------------------------------------

\newcommand{\C}{%
  C\xspace%
}

\newcommand{\Cameleer}{%
  Cameleer\xspace%
}

\newcommand{\CFML}{%
  CFML\xspace%
}

\newcommand{\Cosmo}{%
  Cosmo\xspace%
}

\newcommand{\Cpp}{%
  C\texttt{++}\xspace%
}

\newcommand{\Diaframe}{%
  Diaframe\xspace%
}

\newcommand{\DRFCaml}{%
  DRFCaml\xspace%
}

\newcommand{\Flambda}{%
  Flambda\xspace%
}

\newcommand{\Gallina}{%
  Gallina\xspace%
}

\newcommand{\Go}{%
  Go\xspace%
}

\newcommand{\Gospel}{%
  Gospel\xspace%
}

\newcommand{\Hacspec}{%
  Hacspec\xspace%
}

\newcommand{\Haskell}{%
  Haskell\xspace%
}

\newcommand{\HeapLang}{%
  HeapLang\xspace%
}

\newcommand{\Iris}{%
  Iris\xspace%
}

\newcommand{\Java}{%
  Java\xspace%
}

\newcommand{\Lean}{%
  Lean\xspace%
}

\newcommand{\MulticoreOCaml}{%
  Multicore~OCaml\xspace%
}

\newcommand{\OCaml}{%
  OCaml\xspace%
}

\newcommand{\OCamlFive}{%
  OCaml~5\xspace%
}

\newcommand{\OCamlFour}{%
  OCaml~4\xspace%
}

\newcommand{\Osiris}{%
  Osiris\xspace%
}

\newcommand{\Perennial}{%
  Perennial\xspace%
}

\newcommand{\Rocq}{%
  Rocq\xspace%
}

\newcommand{\Rust}{%
  Rust\xspace%
}

\newcommand{\RustBelt}{%
  RustBelt\xspace%
}

\newcommand{\WhyThree}{%
  Why3\xspace%
}

\newcommand{\Zoo}{%
  Zoo\xspace%
}

\newcommand{\ZooLang}{%
  ZooLang\xspace%
}

%-------------------------------------------------

\newcommand{\Domainslib}{%
  \texttt{Domainslib}\xspace%
}

\newcommand{\Eio}{%
  \texttt{Eio}\xspace%
}

\newcommand{\Kcas}{%
  \texttt{Kcas}\xspace%
}

\newcommand{\ocamlToZoo}{%
  \texttt{ocaml2zoo}\xspace%
}

\newcommand{\Picos}{%
  \texttt{Picos}\xspace%
}

\newcommand{\Saturn}{%
  \texttt{Saturn}\xspace%
}

%-------------------------------------------------

\newcommand{\mathhyphen}{%
  {\hbox{-}}%
}

\newcommand\doubleplus{%
  +\kern-1.3ex+\kern0.8ex%
}
\newcommand\mdoubleplus{%
  \ensuremath{\mathbin{+\mkern-10mu+}}%
}

%-------------------------------------------------

\newcommand{\textlog}[1]{%
  \textsf{\upshape #1}%
}

\newcommand{\loc}{%
  \ell%
}

%-------------------------------------------------

\newcommand{\Prop}{%
  \textlog{Prop}%
}

\newcommand{\iProp}{%
  \textlog{iProp}%
}
\newcommand{\iOr}{%
  \vee%
}
\newcommand{\iSep}{%
  \mathrel{\ast}%
}
\newcommand{\iBigSep}{%
  \scalerel*{\iSep}{\sum}%
}
\newcommand{\iWand}{%
  \mathrel{-\!\!\ast}%
}
\newcommand{\iBupd}{%
  |\!\!\!\Rrightarrow%
}
\newcommand{\iPersistent}{%
  \square%
}
\newcommand{\iTrue}{%
  \textlog{True}%
}
\newcommand{\iFalse}{%
  \textlog{False}%
}
\newcommand{\iPointsto}{%
  \mapsto%
}
\newcommand{\iPred}{%
  \Phi%
}
\newcommand{\iPredTwo}{%
  \Psi%
}
\newcommand{\iPredThree}{%
  \Chi%
}

\newcommand{\iWp}[3][]{%
  \textlog{wp}\ %
  #2%
  \ \lbrace\ %
  \ifx #1 \else #1 \ldotp \fi%
  #3%
  \ \rbrace%
}

\newcommand{\iSpec}[4]{%
  \begin{array}{c}
      \begin{array}{c}
        #1
      \end{array}
    \\ \hline
      #2
    \\ \hline
      #3 \ldotp
      \begin{array}[t]{c}
        #4
      \end{array}
  \end{array}%
}

%-------------------------------------------------

\newlength\@inlinegraphicsHeight
\newlength\@inlinegraphicsDepth
\newcommand{\inlinegraphics}[2][1]{%
  \settototalheight\@inlinegraphicsHeight{Xygp}%
  \settodepth\@inlinegraphicsDepth{Xygp}%
  \raisebox{-#1\@inlinegraphicsDepth}{\includegraphics[height=\@inlinegraphicsHeight]{#2}}%
}

%-------------------------------------------------

\newcommand{\refLib}[1]{%
  \href{%
    https://github.com/clef-men/zoo/tree/popl26/lib/\detokenize{#1}%
  }{%
    \inlinegraphics[.5]{images/ocaml.png}%
  }%
}

\newcommand{\refTheories}[1]{%
  \ifx \relax#1\relax%
    \href{%
      https://github.com/clef-men/zoo/tree/popl26/theories/%
    }{%
      \inlinegraphics{images/rocq.png}%
    }%
  \else%
    \href{%
      https://github.com/clef-men/zoo/tree/popl26/theories/\string#1%
    }{%
      \inlinegraphics{images/rocq.png}%
    }%
  \fi%
}

\NewDocumentCommand\refLibTheories{O{} O{} m}{%
  \refLib{#3#1}~\refTheories{#3#2}%
}
\newcommand{\refLibTheoriesFile}[1]{%
  \refLibTheories[.ml][.v]{#1}%
}
